---
import { getCollection } from 'astro:content';
import ProjectCard from '@/components/ProjectCard.astro';

// get all projects from the content collection
const projects = await getCollection('projects');
const sortedProjects = projects.sort((a, b) => a.data.order - b.data.order);
---

<section class="container mx-auto px-8 py-10 md:px-12 md:py-16">
  <h2 class="font-montserrat mb-8 text-4xl font-bold">Projects</h2>
  <div class="grid grid-cols-1 gap-8 md:grid-cols-2">
    {
      sortedProjects.map((project) => (
        <ProjectCard
          title={project.data.title}
          role={project.data.role}
          description={project.data.description}
          url={project.data.url}
        />
      ))
    }
  </div>
</section>
